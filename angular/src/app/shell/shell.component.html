<!-- Modern Shell Component with Contemporary Design -->


<div class="modern-shell-container">
  <!-- Top Navigation Bar -->
  <nav class="top-navbar">
    <div class="navbar-content">
      <!-- Left: Logo and Menu Toggle -->
      <div class="navbar-left">
        <button class="menu-toggle" mat-icon-button (click)="sidenav.toggle()" [class.hidden]="!isMobile">
          <mat-icon>menu</mat-icon>
        </button>
        <div class="app-logo">
          <mat-icon class="logo-icon">security</mat-icon>
          <span class="app-name" translate>application.name</span>
        </div>
      </div>

      <!-- Center: Page Title -->
      <div class="navbar-center">
        <h1 class="page-title">{{ title }}</h1>
      </div>

      <!-- Right: User Menu and Language Selector -->
      <div class="navbar-right">
        <app-language-selector [icon]="true" class="language-selector"></app-language-selector>

        <!-- Notifications -->
        <button mat-icon-button class="notification-btn" matTooltip="Notifications">
          <mat-icon matBadge="3" matBadgeColor="warn" matBadgeSize="small">notifications</mat-icon>
        </button>

        <!-- User Profile Menu -->
        <div class="user-menu-wrapper">
          <button mat-button [matMenuTriggerFor]="userMenu" class="user-profile-btn">
            <div class="user-avatar">
              <mat-icon>person</mat-icon>
            </div>
            <div class="user-info" *ngIf="!isMobile">
              <span class="user-name">{{ appStore.username() || 'Guest User' }}</span>
              <!-- <span class="user-role">Administrator</span> -->
            </div>
            <mat-icon class="dropdown-arrow">keyboard_arrow_down</mat-icon>
          </button>

          <mat-menu #userMenu="matMenu" class="user-dropdown">
            <div class="user-menu-header">
              <div class="user-avatar-large">
                <mat-icon>person</mat-icon>
              </div>
              <div class="user-details">
                <div class="user-name-large">{{ appStore.username() || 'Guest User' }}</div>
                <div class="user-email">admin&#64;centralkyc.com</div>
              </div>
            </div>
            <mat-divider></mat-divider>
            <!-- <a class="dropdown-item" href="{{ appStore.accountUri() }}">
                  <i class="fa fa-user" aria-hidden="false"></i>
                  &nbsp; Profile
                </a> -->
            <button mat-menu-item>
              <mat-icon>person</mat-icon>
              <span translate>Profile</span>
            </button>
            <button mat-menu-item>
              <mat-icon>settings</mat-icon>
              <span translate>Account Settings</span>
            </button>
            <button mat-menu-item>
              <mat-icon>help</mat-icon>
              <span translate>Help & Support</span>
            </button>
            <mat-divider></mat-divider>
            <button mat-menu-item (click)="logout()" class="logout-btn">
              <mat-icon>logout</mat-icon>
              <span translate>Logout</span>
            </button>
          </mat-menu>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Layout Container -->
  <div class="main-layout">
    <!-- Side Navigation -->
    <mat-drawer-container class="drawer-container">
      <mat-drawer
        #sidenav
        [mode]="isMobile ? 'over' : 'side'"
        [opened]="!isMobile"
        [disableClose]="!isMobile"
        class="modern-sidenav"
      >
        <!-- Navigation Header -->
        <!-- <div class="nav-header">
          <div class="nav-logo">
            <mat-icon class="nav-logo-icon">security</mat-icon>
            <span class="nav-app-name" translate>Central KYC</span>
          </div>
        </div> -->

        <!-- Navigation Menu -->
        <nav class="navigation-menu">
          <!-- Main Menu Items -->
          <div class="menu-section">
            <div class="menu-section-title">Main</div>

            <a mat-list-item
               routerLink="/"
               routerLinkActive="active"
               (click)="isMobile && sidenav.close()"
               class="nav-item">
              <mat-icon class="nav-icon">dashboard</mat-icon>
              <span class="nav-label" translate>Dashboard</span>
            </a>

            <a mat-list-item
               *ngFor="let item of menus"
               routerLink="{{ item.routerLink }}"
               routerLinkActive="active"
               (click)="isMobile && sidenav.close()"
               class="nav-item">
              <mat-icon class="nav-icon">{{ getMenuIcon(item.titleKey) }}</mat-icon>
              <span class="nav-label" translate>{{ item.titleKey }}</span>
            </a>
          </div>

          <!-- Secondary Menu Items -->
          <div class="menu-section">
            <div class="menu-section-title">System</div>

            <a mat-list-item
               routerLink="/about"
               routerLinkActive="active"
               (click)="isMobile && sidenav.close()"
               class="nav-item">
              <mat-icon class="nav-icon">info</mat-icon>
              <span class="nav-label" translate>About</span>
            </a>
          </div>
        </nav>

        <!-- Navigation Footer -->
        <div class="nav-footer">
          <div class="nav-footer-content">
            <div class="version-info">
              <span class="version-label">Version</span>
              <span class="version-number">2.1.0</span>
            </div>
          </div>
        </div>
      </mat-drawer>

      <!-- Main Content Area -->
      <mat-drawer-content class="main-content">
        <div class="content-wrapper">
          <router-outlet></router-outlet>
        </div>
      </mat-drawer-content>
    </mat-drawer-container>
  </div>
</div>
