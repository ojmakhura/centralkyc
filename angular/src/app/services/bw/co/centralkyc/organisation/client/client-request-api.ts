// Generated by andromda-angular cartridge (service\service.impl.ts.vsl) CAN EDIT
import { Injectable, inject } from '@angular/core';
import { Observable } from 'rxjs';
import { ClientRequestDTO } from '@models/bw/co/centralkyc/organisation/client/client-request-dto';
import { HttpClient } from '@angular/common/http';
import { Page } from '@models/page.model';
import { SearchObject } from '@models/search-object';
import { ClientRequestSearchCriteria } from '@app/models/bw/co/centralkyc/organisation/client/client-request-search-criteria';
import { TargetEntity } from '@app/models/bw/co/centralkyc/target-entity';
import { ClientRequestStatus } from '@app/models/bw/co/centralkyc/organisation/client/client-request-status';

@Injectable({
  providedIn: 'root'
})
export class ClientRequestApi {

  protected path = '/client-request';

  private http = inject(HttpClient);

  public downloadRequestTemplate(): Observable<Blob | any> {

    return this.http.get<Blob | any>(`${this.path}/download-template`);
  }

  public findByDocument(documentId: string): Observable<ClientRequestDTO[]> {

    return this.http.get<ClientRequestDTO[]>(`${this.path}/by-document/${documentId}`);
  }

  public findByDocumentPaged(documentId: string, pageNumber: number, pageSize: number): Observable<Page<ClientRequestDTO>> {

    return this.http.get<Page<ClientRequestDTO>>(`${this.path}/by-document/${documentId}/paged?pageNumber=${pageNumber}&pageSize=${pageSize}`);
  }

  public findById(id: string): Observable<ClientRequestDTO> {
    return this.http.get<ClientRequestDTO>(`${this.path}/${id}`);
  }

  public findByIndividual(individualId: string): Observable<ClientRequestDTO[]> {
    return this.http.get<ClientRequestDTO[]>(`${this.path}/by-individual/${individualId}`);
  }

  public findByIndividualPaged(individualId: string, pageNumber: number, pageSize: number): Observable<Page<ClientRequestDTO>> {
    return this.http.get<Page<ClientRequestDTO>>(`${this.path}/by-individual/${individualId}/paged?pageNumber=${pageNumber}&pageSize=${pageSize}`);
  }

  public findByOrganisation(organisationId: string, target: TargetEntity): Observable<ClientRequestDTO[]> {

    let url = `${this.path}/by-org/${organisationId}`;

    if(target) {

      url = `${url}&target=${target}`
    }

    return this.http.get<ClientRequestDTO[]>(`${url}`);
  }

  public findByOrganisationPaged(organisationId: string, pageNumber: number, pageSize: number, target: TargetEntity): Observable<Page<ClientRequestDTO>> {

    let url = `${this.path}/by-org/${organisationId}/paged?pageNumber=${pageNumber}&pageSize=${pageSize}`;

    if(target) {

      url = `${url}&target=${target}`
    }


    return this.http.get<Page<ClientRequestDTO>>(`${url}`);
  }

  public findByStatus(status: ClientRequestStatus | any): Observable<ClientRequestDTO[]> {

    return this.http.get<ClientRequestDTO[]>(`${this.path}/status?status=${status}`);
  }

  public findByStatusPaged(status: ClientRequestStatus, pageNumber: number, pageSize: number): Observable<Page<ClientRequestDTO>> {

    return this.http.get<Page<ClientRequestDTO>>(`${this.path}/status/paged?status=${status}&pageNumber=${pageNumber}&pageSize=${pageSize}`);
  }

  public findByTarget(target: TargetEntity, targetId: string): Observable<ClientRequestDTO[]> {

    return this.http.get<ClientRequestDTO[]>(`${this.path}/target/${target}/${targetId}`);
  }

  public findByTargetPaged(target: TargetEntity, targetId: string, pageNumber: number, pageSize: number): Observable<Page<ClientRequestDTO>> {

    return this.http.get<Page<ClientRequestDTO>>(`${this.path}/target/${target}/${targetId}/paged?pageNumber=${pageNumber}&pageSize=${pageSize}`);
  }

  public findIndividualsByOrganisation(organisationId: string): Observable<ClientRequestDTO[]> {

    return this.http.get<ClientRequestDTO[]>(`${this.path}/by-org/${organisationId}/individuals`);
  }

  public findIndividualsByOrganisationPaged(organisationId: string, pageNumber: number, pageSize: number): Observable<Page<ClientRequestDTO>> {

    return this.http.get<Page<ClientRequestDTO>>(`${this.path}/by-org/${organisationId}/individuals/paged?pageNumber=${pageNumber}&pageSize=${pageSize}`);
  }

  public findOrganisationsByOrganisation(organisationId: string): Observable<ClientRequestDTO[]> {

    return this.http.get<ClientRequestDTO[]>(`${this.path}/by-org/${organisationId}/organisations`);
  }

  public findOrganisationsByOrganisationPaged(organisationId: string, pageNumber: number, pageSize: number): Observable<Page<ClientRequestDTO>> {

    return this.http.get<Page<ClientRequestDTO>>(`${this.path}/by-org/${organisationId}/organisations/paged?pageNumber=${pageNumber}&pageSize=${pageSize}`);
  }

  public getAll(): Observable<ClientRequestDTO[]> {

    return this.http.get<ClientRequestDTO[]>(`${this.path}`);
  }

  public getAllPaged(pageNumber: number, pageSize: number): Observable<Page<ClientRequestDTO>> {

    return this.http.get<Page<ClientRequestDTO>>(`${this.path}/paged?pageNumber=${pageNumber}&pageSize=${pageSize}`);
  }

  public pagedSearch(criteria: SearchObject<ClientRequestSearchCriteria> | any): Observable<Page<ClientRequestDTO>> {

    return this.http.post<Page<ClientRequestDTO>>(`${this.path}/search/paged`, criteria);
  }

  public remove(id: string): Observable<boolean> {

    return this.http.delete<boolean>(`${this.path}/${id}`);
  }

  public save(clientRequest: ClientRequestDTO): Observable<ClientRequestDTO> {

    return this.http.post<ClientRequestDTO>(`${this.path}`, clientRequest);
  }

  public search(criteria: SearchObject<ClientRequestSearchCriteria> | any): Observable<ClientRequestDTO[]> {

    return this.http.post<ClientRequestDTO[]>(`${this.path}/search`, criteria);
  }

  public uploadRequests(file: File, organisationId: string, target: TargetEntity): Observable<Page<ClientRequestDTO>> {
    const formData: FormData = new FormData();
    formData.append('file', file);

    return this.http.post<Page<ClientRequestDTO>>(
      `${this.path}/${organisationId}/upload?target=${target}`,
      formData,
    );
  }

  public updateStatus(id: string, status: ClientRequestStatus): Observable<ClientRequestDTO> {

    return this.http.get<ClientRequestDTO>(`${this.path}/${id}/status?status=${status}`);
  }
}
