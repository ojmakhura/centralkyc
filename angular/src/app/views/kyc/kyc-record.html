<!-- Search KYC Records Component -->
<div class="edit-container">
  <div class="breadcrumb-section">
    <mat-icon class="breadcrumb-icon">home</mat-icon>
    <span class="breadcrumb-text">{{ 'home' | translate }}</span>
    <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
    <span class="breadcrumb-text">{{ 'kyc' | translate }}</span>
    <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
    <span class="breadcrumb-text active">{{ 'search.records' | translate }}</span>
  </div>
  <div class="card-body">
    <div>
      <div class="row">
        <div class="col my-3 view-buttons">
          <button type="button" mat-mini-fab matTooltip="{{'search' | translate}}" color="primary" (click)="kycRecordSearch()">
            <mat-icon fontIcon="search" aria-hidden="false" aria-label="search"></mat-icon>
          </button>
          <button type="button" mat-mini-fab matTooltip="{{'reset' | translate}}" (click)="kycRecordSearchFormReset()" color="primary">
            <mat-icon fontIcon="restore" aria-hidden="false" aria-label="restore"></mat-icon>
          </button>
        </div>
      </div>
      @if (loading()) {
      <div>
        <app-loader [isLoading]="loading()" [size]="'medium'" [message]="loaderMessage()"></app-loader>
      </div>
      }
      <div class="row">
        <mat-form-field class="col-md-6">
          <mat-label id="name_label" class="col-sm-2 col-form-label" for="name"><span translate>name</span></mat-label>
          <input matInput type="text" id="name" [field]="kycRecordSearchSignalForm.name"/>
        </mat-form-field>
        <mat-form-field class="col-md-6">
          <mat-label id="registration_label" class="col-sm-2 col-form-label" for="registration"><span translate>registration</span></mat-label>
          <input matInput type="text" id="registration" [field]="kycRecordSearchSignalForm.registration"/>
        </mat-form-field>
      </div>
      <div class="row">
        <mat-form-field class="col-md-4">
          <mat-label id="target_label" class="col-sm-2 col-form-label" for="target"><span translate>target.entity</span></mat-label>
          <mat-select id="target" [field]="kycRecordSearchSignalForm.target">
            <mat-option value="">{{ 'all.targets' | translate }}</mat-option>
            @for (key of TargetEntityOptions; track key) {
            <mat-option [value]="key">
              {{ TargetEntityT[key] }}
            </mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field class="col-md-4">
          <mat-label id="targetId_label" class="col-sm-2 col-form-label" for="targetId"><span translate>target.id</span></mat-label>
          <input matInput type="text" id="targetId" [field]="kycRecordSearchSignalForm.targetId"/>
        </mat-form-field>
        <mat-form-field class="col-md-4">
          <mat-label id="statuses_label" class="col-sm-2 col-form-label" for="statuses"><span translate>kyc.status</span></mat-label>
          <mat-select id="statuses" [field]="kycRecordSearchSignalForm.statuses" multiple>
            @for (key of KycComplianceStatusOptions; track key) {
            <mat-option [value]="key">
              {{ KycComplianceStatusT[key] }}
            </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </div>
  <mat-tab-group animationDuration="0ms" class="tables">
    <mat-tab class="kycRecords">
      <ng-template mat-tab-label><span translate>kyc.records</span></ng-template>
      <app-table
        #kycRecordsTable
        [dataColumns]="kycRecordsTableColumns"
        [showActions]="showKycRecordsActions"
        [paged]="kycRecordsTablePaged"
        [actions]="kycRecordsTableColumnsActions"
        (actionClicked)="kycRecordsTableActionClicked($event)"
        [dataSignal]="kycRecordsTableSignal">
      </app-table>
    </mat-tab>
  </mat-tab-group>
</div>
