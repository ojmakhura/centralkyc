@if (tokenConfirmed()) {
	<div class="register-stepper" id="id-stepper">
		<mat-horizontal-stepper #stepper>
			<mat-step>
				<ng-template matStepLabel>Enter identification</ng-template>
				<mat-card>
					<mat-card-header>
						<mat-card-title>Confirm identification number</mat-card-title>
						<mat-card-subtitle>Please enter your identification number to complete verification.</mat-card-subtitle>
					</mat-card-header>

					<mat-card-content>
						<mat-form-field class="full-width">
							<mat-label>Entity</mat-label>
							<mat-select [formField]="registerForm.identificationType">
								<mat-option value="INDIVIDUAL">Individual</mat-option>
								<mat-option value="ORGANISATION">Organisation</mat-option>
							</mat-select>
						</mat-form-field>

						<mat-form-field class="full-width">
							<mat-label>Identification number</mat-label>
							<input matInput id="identificationNumber" [formField]="registerForm.identificationNumber" placeholder="Enter identification number" />
						</mat-form-field>
					</mat-card-content>

						<mat-card-actions class="register-stepper__actions">
							<button mat-button matStepperPrevious>Back</button>
							<button mat-raised-button color="primary" (click)="confirmIdentification(stepper)">Confirm</button>
						</mat-card-actions>
				</mat-card>
			</mat-step>

			<mat-step>
				<ng-template matStepLabel>Confirmation</ng-template>
				<p>Identification number submitted.</p>
				<div class="register-stepper__actions">
					<button mat-button matStepperPrevious>Back</button>
					<button mat-raised-button color="primary" (click)="finish()">Finish</button>
				</div>
			</mat-step>
		</mat-horizontal-stepper>
	</div>
} @else {
  <div class="register-stepper__error">
    <mat-card>
      <mat-card-header>
        <mat-card-title>Invalid Token</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <p>The token provided is invalid or has expired. Please request a new token to proceed with registration.</p>
      </mat-card-content>

      <mat-card-actions>
        <button mat-raised-button color="primary" routerLink="/request-new-token">Request New Token</button>
      </mat-card-actions>
    </mat-card>
  </div>
}
